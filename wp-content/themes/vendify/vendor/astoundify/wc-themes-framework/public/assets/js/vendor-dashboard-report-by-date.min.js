!function(e,t){e.wp=e.wp||{};e.document;var s=e.jQuery,a={Models:{},Collections:{},Views:{}};a.Models.Chart=astoundifyWcThemesVendorsDashboard.apiModel.extend({routeName:"vendor/dashboard-report-by-date",methods:["GET"],defaults:{}}),a.Views.Chart=wp.Backbone.View.extend({initialize:function(){var e=this;this.$el.block({message:null,overlayCSS:{background:"transparent",opacity:.6},css:{width:"100%"}}),this.model.fetch({success:function(){e.$el.unblock()}}),this.listenTo(this.model,"change",this.render)},events:{"submit #dashboard-reports-form":"submitForm","change #reports-start-date-input":"changeDate","change #reports-end-date-input":"changeDate"},changeDate:function(e){e.preventDefault();var t=this,a=s("#reports-start-date-input").val(),n=s("#reports-end-date-input").val();if(""===a||""===n)return!1;this.$el.block({message:null,overlayCSS:{background:"transparent",opacity:.6},css:{width:"100%"}}),this.model.fetch({data:{range:"custom",start_date:a,end_date:n},success:function(){t.$el.unblock()}})},submitForm:function(e){e.preventDefault();var t=this,a=s(e.target);this.$el.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),this.model.fetch({data:{range:"custom",start_date:a.find('input[name="start_date"]').val(),end_date:a.find('input[name="end_date"]').val()},success:function(){t.$el.unblock()}})},render:function(){var n=this,e=this.model.changedAttributes();return _.each(e,function(e,t){if("chart_commission"===t)new Chart(n.$el.find(".chart-commission-placeholder.main"),{type:"line",data:e,options:{maintainAspectRatio:!1,legend:{display:!1},tooltips:{displayColors:!1,mode:"single",cornerRadius:0,callbacks:{title:function(e,t){return t.tooltips_titles[e[0].index]},label:function(e,t){return t.datasets[e.datasetIndex].tooltips_contents[e.index]}}},scales:{yAxes:[{gridLines:{display:!1},ticks:{beginAtZero:!0}}],xAxes:[{gridLines:{display:!1},ticks:{zeroLineWidth:0}}]}}});else{var a=n.$el.find("."+t);if(0===a.length)return;!isNaN(e)&&parseFloat(e).toFixed&&(e=parseFloat(e).toFixed(2).replace(".00","")),a.html(e).addClass("astoundify-wc-themes-stat-updated"),setTimeout(function(){a.removeClass("astoundify-wc-themes-stat-updated")},1e3)}}),this}}),s(function(){var e=function(e){e.datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!1})};e(s("#reports-start-date-input")),e(s("#reports-end-date-input")),new a.Views.Chart({el:"#astoundify-wc-themes-dashboard-report-by-date",model:new a.Models.Chart}).render()})}(window);
//# sourceMappingURL=vendor-dashboard-report-by-date.min.js.map
