{"version":3,"sources":["public/assets/js/vendor-dashboard.js"],"names":["window","undefined","wp","document","$","jQuery","astoundifyWcThemesVendorsDashboard","apiModel","api","WPApiBaseModel","extend","apiRoot","wpApiSettings","root","versionString","nonce","url","this","routeName","on","e","preventDefault","this_button","media_frame","media","frames","file_frame","className","frame","title","data","button","text","multiple","this_attachment","state","get","first","toJSON","parents","find","val","id","trigger","attr","show","toggle","open","$button","$preview","hide"],"mappings":"CAKA,SAAAA,EAAAC,GAEAD,EAAAE,GAAAF,EAAAE,IAAA,GACA,IAAAC,EAAAH,EAAAG,SACAC,EAAAJ,EAAAK,OAQAC,mCAAAC,SAAAL,GAAAM,IAAAC,eAAAC,OAAA,CACAC,QAAAC,cAAAC,MAAA,WACAC,cAAA,2BACAC,MAAA,WACA,OAAAH,cAAAG,OAEAC,IAAA,WACA,OAAAC,KAAAN,QAAAM,KAAAH,cAAAG,KAAAC,aASAd,EAAA,WAGAA,EAAAD,GAAAgB,GAAA,QAAA,yBAAA,SAAAC,GACAA,EAAAC,iBAEA,IAAAC,EAAAlB,EAAAa,MAGAM,EAAArB,GAAAsB,MAAAC,OAAAC,WAAAxB,GAAAsB,MAAA,CACAG,UAAA,2CACAC,MAAA,SACAC,MAAAP,EAAAQ,KAAA,SACAC,OAAA,CAAAC,KAAAV,EAAAQ,KAAA,WACAG,UAAA,IAIAV,EAAAJ,GAAA,SAAA,WACA,IAAAe,EAAAX,EAAAY,QAAAC,IAAA,aAAAC,QAAAC,SACAhB,EAAAiB,QAAA,yBAAAC,KAAA,wBAAAC,IAAAP,EAAAQ,IAAAC,QAAA,UACArB,EAAAiB,QAAA,yBAAAC,KAAA,6BAAAI,KAAA,MAAAV,EAAAlB,KAAA6B,OACAvB,EAAAiB,QAAA,yBAAAC,KAAA,0BAAAM,WAIAvB,EAAAwB,SAIA3C,EAAAD,GAAAgB,GAAA,QAAA,yBAAA,SAAAC,GACAA,EAAAC,iBAEA,IAAA2B,EAAA5C,EAAAa,MACAgC,EAAAD,EAAAT,QAAA,yBAAAC,KAAA,6BAEAQ,EAAAT,QAAA,yBAAAC,KAAA,wBAAAC,IAAA,IAAAE,QAAA,UACAK,EAAAE,OAEAD,EAAAL,KAAA,MAAAK,EAAAnB,KAAA,oBAnEA,CAwEA9B","file":"vendor-dashboard.min.js","sourcesContent":["/**\n * Vendor Dashboard\n *\n * @since 1.0.0\n */\n(function( window, undefined ){\n\n\twindow.wp = window.wp || {};\n\tvar document = window.document;\n\tvar $ = window.jQuery;\n\n\t/**\n\t * REST API Model\n\t * This is needed to use cookie in rest API to use current user data.\n\t *\n\t * @since 1.0.0\n\t */\n\tastoundifyWcThemesVendorsDashboard.apiModel = wp.api.WPApiBaseModel.extend({\n\t\tapiRoot: wpApiSettings.root || '/wp-json',\n\t\tversionString: 'astoundify/wc-themes/v1/',\n\t\tnonce: function() {\n\t\t\treturn wpApiSettings.nonce;\n\t\t},\n\t\turl: function() {\n\t\t\treturn this.apiRoot + this.versionString + this.routeName;\n\t\t}\n\t});\n\n\t/**\n\t * Bind items to to the DOM.\n\t *\n\t * @since 1.0.0\n\t */\n\t$(function() {\n\n\t\t// Open media modal to upload image.\n\t\t$( document ).on( 'click', '.vendors-upload-button', function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tvar this_button = $( this );\n\n\t\t\t// If media frame doesn't exist, create it with some options.\n\t\t\tvar media_frame = wp.media.frames.file_frame = wp.media({\n\t\t\t\tclassName: 'media-frame vendor-dashboard-media-frame',\n\t\t\t\tframe: 'select',\n\t\t\t\ttitle: this_button.data( 'title' ),\n\t\t\t\tbutton: { text:  this_button.data( 'insert' ) },\n\t\t\t\tmultiple: false,\n\t\t\t});\n\n\t\t\t// Insert URL.\n\t\t\tmedia_frame.on( 'select', function(){\n\t\t\t\tvar this_attachment = media_frame.state().get('selection').first().toJSON();\n\t\t\t\tthis_button.parents( '.vendors-upload-field' ).find( 'input[type=\"hidden\"]' ).val( this_attachment.id ).trigger( 'change' );\n\t\t\t\tthis_button.parents( '.vendors-upload-field' ).find( '.vendors-upload-thumbnail' ).attr( 'src', this_attachment.url ).show();\n\t\t\t\tthis_button.parents( '.vendors-upload-field' ).find( '.vendors-upload-remove' ).toggle();\n\t\t\t});\n\n\t\t\t// Open frame.\n\t\t\tmedia_frame.open();\n\t\t});\n\n\t\t// Clear input.\n\t\t$( document ).on( 'click', '.vendors-upload-remove', function(e){\n\t\t\te.preventDefault();\n\n\t\t\tvar $button  = $( this );\n\t\t\tvar $preview = $button.parents( '.vendors-upload-field' ).find( '.vendors-upload-thumbnail' );\n\n\t\t\t$button.parents( '.vendors-upload-field' ).find( 'input[type=\"hidden\"]' ).val( '' ).trigger( 'change' );\n\t\t\t$button.hide();\n\n\t\t\t$preview.attr( 'src', $preview.data( 'placeholder' ) )\n\t\t});\n\n\t});\n\n})( window );\n"]}