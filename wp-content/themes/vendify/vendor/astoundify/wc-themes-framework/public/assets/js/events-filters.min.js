!function(s,r){s.wp=s.wp||{};var l=s.document,d=s.jQuery,c=s.wp,t=d(l);astoundifyWcThemesEventFilters.DateField=function(e){e.datepicker({defaultDate:"",dateFormat:astoundifyWcThemesEventFilters.settings.dateFormat,numberOfMonths:1,showButtonPanel:!1})},astoundifyWcThemesEventFilters.RadiusFieldSlider=function(e){var t=astoundifyWcThemesEventFilters.settings.radius,n=e.siblings(".location-radius-field"),a=d(".location-radius-field-value");n.hide(),a.html(n.val()+" "+t.unit),e.slider({range:"max",animate:!0,min:t.min,max:t.max,value:n.val(),step:t.step,slide:function(e,t){n.val(t.value).trigger("change")}}),n.change(function(){a.html(d(this).val()+" "+t.unit)})},astoundifyWcThemesEventFilters.LocationField=function(e){if("object"==typeof google&&"object"==typeof google.maps){var t=d("#event-location-lat-field"),n=d("#event-location-lng-field"),a=astoundifyWcThemesEventFilters.settings,o=new google.maps.Geocoder,i=function(e){r===e||""===e?(t.val(""),n.val("")):(t.val(e.lat()),n.val(e.lng()))},s=function(){""===e.val()?i(""):o.geocode({address:e.val()},function(e){i(e[0].geometry.location)})},l=new google.maps.places.Autocomplete(e[0],a.autoCompleteArgs);google.maps.event.addListener(l,"place_changed",function(){var e=l.getPlace();i(r===e?"":e.geometry.location)}),google.maps.event.addDomListener(e[0],"keydown",function(e){13==e.keyCode&&(e.preventDefault(),d(".pac-container").hide(),s())}),google.maps.event.addDomListener(e[0],"change",function(e){s()})}},astoundifyWcThemesEventFilters.ajaxSearch=function(){var n=d("#astoundify-wc-themes-events-filters-form"),a=d("#astoundify-wc-themes-loop"),o=n.find("#page"),t=!1,i=new URLSearchParams(s.location.search);i.has("s")&&i.has("post_type")&&i.has("location")&&"product"===i.get("post_type")&&(t=!0),t&&(d(".woocommerce-pagination").addClass("ajax-events-pagination"),d(".woocommerce-ordering").addClass("ajax-events-ordering")),d(".woocommerce-ordering").on("submit",function(){e.preventDefault()}),d(l).on("change",".woocommerce-ordering",function(e){e.preventDefault();var t=d(this).find('select[name="orderby"]').val();d("#events-orderby-field").length?d("#events-orderby-field").val(t):n.append('<input id="events-orderby-field" type="hidden" name="orderby" value="'+t+'">'),n.submit()}),d(l).on("click",".woocommerce-pagination a",function(e){e.preventDefault();var t=d(this).text();isNaN(t)&&(t=d(this).hasClass("next")?Number(o.val())+Number(1):Number(o.val())-Number(1));o.val(t),n.submit()}),n.on("submit",function(e){e.preventDefault(),a.block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var t=n.serialize();c.ajax.send({data:{action:"astoundify_wc_themes_events_product_results",formData:t},success:function(e){a.html(e),d(".woocommerce-pagination").addClass("ajax-events-pagination"),d(".woocommerce-ordering").addClass("ajax-events-ordering"),d("#events-orderby-field").val()&&d('.woocommerce-ordering select[name="orderby"]').val(d("#events-orderby-field").val()),a.unblock(),s.history.pushState("","","?"+t)},error:function(){a.unblock()}})})},t.ready(function(){astoundifyWcThemesEventFilters.DateField(d("#event-schedule-start-field")),astoundifyWcThemesEventFilters.DateField(d("#event-schedule-end-field")),astoundifyWcThemesEventFilters.LocationField(d("#event-location-field")),astoundifyWcThemesEventFilters.RadiusFieldSlider(d("#event-location-radius-field-slider")),astoundifyWcThemesEventFilters.ajaxSearch()})}(window);
//# sourceMappingURL=events-filters.min.js.map
