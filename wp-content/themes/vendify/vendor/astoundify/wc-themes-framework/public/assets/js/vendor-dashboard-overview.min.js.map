{"version":3,"sources":["public/assets/js/vendor-dashboard-overview.js"],"names":["window","undefined","wp","document","$","jQuery","api","Models","Collections","Views","Overview","astoundifyWcThemesVendorsDashboard","apiModel","extend","routeName","methods","defaults","weekly_average","total_items_sold","average_ratings","total_reviews","Backbone","View","initialize","this","listenTo","model","update","render","$el","block","message","overlayCSS","background","opacity","width","self","changed","changedAttributes","_","each","value","key","el","find","length","isNaN","parseFloat","toFixed","replace","html","addClass","setTimeout","removeClass","fetch","success","unblock"],"mappings":"CAKA,SAAAA,EAAAC,GAEAD,EAAAE,GAAAF,EAAAE,IAAA,GACAF,EAAAG,SAAA,IACAC,EAAAJ,EAAAK,OAKAC,EAAA,CACAC,OAAA,GACAC,YAAA,GACAC,MAAA,IAWAH,EAAAC,OAAAG,SAAAC,mCAAAC,SAAAC,OAAA,CACAC,UAAA,4BACAC,QAAA,CAAA,OACAC,SAAA,CACAC,eAAA,EACAC,iBAAA,EACAC,gBAAA,EACAC,cAAA,KASAd,EAAAG,MAAAC,SAAAR,GAAAmB,SAAAC,KAAAT,OAAA,CAIAU,WAAA,WACAC,KAAAC,SAAAD,KAAAE,MAAA,SAAAF,KAAAG,SAMAC,OAAA,WACAJ,KAAAK,IAAAC,MAAA,CACAC,QAAA,KACAC,WAAA,CACAC,WAAA,cACAC,QAAA,GACAC,MAAA,WAQAR,OAAA,WACA,IAAAS,EAAAZ,KACAa,EAAAb,KAAAE,MAAAY,oBAEAC,EAAAC,KAAAH,EAAA,SAAAI,EAAAC,GACA,IAAAC,EAAAP,EAAAP,IAAAe,KAAA,IAAAF,GAEA,IAAAC,EAAAE,UAKAC,MAAAL,IAAAM,WAAAN,GAAAO,UACAP,EAAAM,WAAAN,GAAAO,QAAA,GAAAC,QAAA,MAAA,KAIAN,EAAAO,KAAAT,GAAAU,SAAA,qCAEAC,WAAA,WACAT,EAAAU,YAAA,sCACA,WAUAjD,EAAA,WACA,IAAAsB,EAAA,IAAApB,EAAAC,OAAAG,SACAiC,EAAA,2CAEA,IAAArC,EAAAG,MAAAC,SAAA,CACAiC,GAAAA,EACAjB,MAAAA,IACAE,SAEAF,EAAA4B,MAAA,CACAC,QAAA,WACAnD,EAAAuC,GAAAa,eA1GA,CAgHAxD","file":"vendor-dashboard-overview.min.js","sourcesContent":["/**\n * Vendor Overview (REST API).\n *\n * @since 1.0.0\n */\n(function( window, undefined ){\n\n\twindow.wp = window.wp || {};\n\tvar document = window.document;\n\tvar $ = window.jQuery;\n\n\t/**\n\t * Scope for current file.\n\t */\n\tvar api = {\n\t\tModels: {},\n\t\tCollections: {},\n\t\tViews: {}\n\t};\n\n\t/**\n\t * Backbone Model.\n\t * Using WPApiBaseModel to handle the cookie, etc.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @extends WPApiBaseModel\n\t */\n\tapi.Models.Overview = astoundifyWcThemesVendorsDashboard.apiModel.extend({\n\t\trouteName: 'vendor/dashboard-overview',\n\t\tmethods: [ 'GET' ],\n\t\tdefaults: {\n\t\t\tweekly_average: 0,\n\t\t\ttotal_items_sold: 0,\n\t\t\taverage_ratings: 0,\n\t\t\ttotal_reviews: 0,\n\t\t}\n\t});\n\n\t/**\n\t * Views: Render the output.\n\t *\n\t * @since 1.0.0\n\t */\n\tapi.Views.Overview = wp.Backbone.View.extend( {\n\t\t/**\n\t\t * @since 1.0.0\n\t\t */\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( this.model, 'change', this.update );\n\t\t},\n\n\t\t/**\n\t\t * @since 1.0.0\n\t\t */\n\t\trender: function() {\n\t\t\tthis.$el.block({\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\topacity: 0.6,\n\t\t\t\t\twidth: '100%'\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * @since 1.0.0\n\t\t */\n\t\tupdate: function() {\n\t\t\tvar self = this;\n\t\t\tvar changed = this.model.changedAttributes();\n\n\t\t\t_.each( changed, function( value, key ) {\n\t\t\t\tvar el = self.$el.find( '#' + key );\n\n\t\t\t\tif ( 0 === el.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// if this is a number, keep the decimals number at 2.\n\t\t\t\tif ( ! isNaN( value ) && parseFloat(value).toFixed ) {\n\t\t\t\t\tvalue = parseFloat(value).toFixed(2).replace(\".00\", \"\");\n\t\t\t\t}\n\n\t\t\t\t// Add updated status.\n\t\t\t\tel.html( value ).addClass( 'astoundify-wc-themes-stat-updated' );\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tel.removeClass( 'astoundify-wc-themes-stat-updated' );\n\t\t\t\t}, 1000 );\n\t\t\t} );\n\t\t},\n\t} );\n\n\t/**\n\t * Bind items to to the DOM.\n\t *\n\t * @since 1.0.0\n\t */\n\t$(function() {\n\t\tvar model = new api.Models.Overview;\n\t\tvar el = '#astoundify-wc-themes-dashboard-overview';\n\n\t\tnew api.Views.Overview({\n\t\t\tel: el,\n\t\t\tmodel: model,\n\t\t}).render();\n\n\t\tmodel.fetch({\n\t\t\tsuccess: function() {\n\t\t\t\t$( el ).unblock();\n\t\t\t},\n\t\t});\n\n\t});\n\n})( window );\n"]}